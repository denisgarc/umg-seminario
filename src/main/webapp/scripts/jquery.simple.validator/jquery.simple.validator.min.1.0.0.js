!function(t){var a={errorClass:"validator_error",scrollToFirstError:!0,scrollToFirstElementTime:1e3,scrollToFirstElementOffset:0,debug:!1,dataDynamicRevalidate:!1,validationSummary:!1,validationSummaryControl:""},r={data_required:"data-required",data_only_numbers:"data-only-numbers",data_date_format:"data-date-format",data_select_value_different:"data-select-value-different",data_iban:"data-iban",data_email:"data-email",data_disable_validation:"data-disable-validation",data_radio_selected:"data-radio-selected"},e=!0,n=null,l="_error_msg_",o=new Array;t.fn.initialize=function(r){this.settings=t.extend(a,r),this.registerAllValidators(),a.dataDynamicRevalidate&&this.find("input,select,textarea").each(function(){a.debug&&console.log("------------- #"+t(this).attr("id")+" ------------------"),t(this).blur(function(){console.log(" >> BLUR: "+t(this).attr("id")),t(this).validateField(this.settings)})})},t.fn.validate=function(){return e=!0,n=null,a.validationSummary&&(t("#"+a.validationSummaryControl).empty(),t("#"+a.validationSummaryControl).hide()),this.find("input,select,textarea").each(function(){t(this).validateField(this.settings)}),a.scrollToFirstError&&null!=n&&(a.validationSummary&&""!=a.validationSummary&&(n=t("#"+a.validationSummaryControl),n.show()),t("html, body").animate({scrollTop:n.offset().top-a.scrollToFirstElementOffset},a.scrollToFirstElementTime)),e},t.fn.registerAllValidators=function(){this.registerValidator(r.data_required,function(t){var a=r.data_required;return null!=t.attr(a)?t.isEmpty()?!1:!0:void 0}),this.registerValidator(r.data_only_numbers,function(t){var a=r.data_only_numbers;return null!=t.attr(a)?t.isEmpty()||t.isNumeric(t.val())?!0:!1:void 0}),this.registerValidator(r.data_date_format,function(a){var e=r.data_date_format;if(null!=a.attr(e)){var i=a.attr(e),n=a.val(),l=a.attr(e+"-separator"),o=!0;try{o=t(this).checkDateDMY(n),n=t(this).parseDate(n,i,l)}catch(s){o=!1,alert(s)}return a.isEmpty()||o?!0:!1}}),this.registerValidator(r.data_select_value_different,function(t){var a=r.data_select_value_different;return null!=t.attr(a)?t.prop("selectedIndex")!=t.attr(a)?!0:!1:void 0}),this.registerValidator(r.data_iban,function(t){var a=r.data_iban;return null!=t.attr(a)?t.isEmpty()||t.validateIBAN(t.val())?!0:!1:void 0}),this.registerValidator(r.data_email,function(t){var a=r.data_email;return null!=t.attr(a)?t.isEmpty()||t.isEmail()?!0:!1:void 0}),this.registerValidator(r.data_radio_selected,function(e){var i=r.data_radio_selected;return null!=e.attr(i)?(a.debug&&console.log("   Selected elements: "+t("#"+e.attr("id")+":checked").length),t("#"+e.attr("id")+":checked").length>0?!0:!1):void 0})},t.fn.registerValidator=function(t,a){o[t]=a},t.fn.manageValidateResponse=function(a,r,e){r?t(this).hideError(e,a):e.showError(e,a)},t.fn.validateField=function(e){var i=!0;if(null!=e&&(this.settings=t.extend(a,e)),a.debug&&console.log("------------- #"+t(this).attr("id")+" ------------------"),null!=t(this).attr(r.data_disable_validation))return!0;for(validator_name in o)if(a.debug&&console.log("** Validator "+validator_name+" active: "+(null!=t(this).attr(validator_name)?"true":"false")),null!=t(this).attr(validator_name)){var n=o[validator_name](t(this));i&=n,a.debug&&console.log("    Validation isValid: ["+n+"] Global field validator: ["+i+"]"),this.manageValidateResponse(validator_name,n,t(this))}return i},t.fn.showError=function(r,i){a.debug&&console.log("    ShowError: "+i),e&=!1;var o=r.attr("id")+l+i,s=r.attr(i+"-msg"),d=r.attr("data-message-control");if(null!=s){if(a.scrollToFirstError&&null==n&&(n=r),null!=d)return t("#"+d).html(s),void t("#"+d).show();if(a.validationSummary){var u=t("#"+a.validationSummaryControl).html();return u+="<span id='"+o+"' class='"+a.errorClass+"'>"+s+"</span><br/>",t("#"+a.validationSummaryControl).html(u),void t("#"+a.validationSummaryControl).show()}0==t("#"+o).length?r.after("<span id='"+o+"' class='"+a.errorClass+"'>"+s+"</span>"):r.parent("#"+o).show()}},t.fn.hideError=function(r,i){a.debug&&console.log("    HideError: "+i);var n=r.attr("data-message-control");if(null!=n)return t("#"+n).html(""),void t("#"+n).hide();var o=r.attr("id")+l+i;e&=!0,t("#"+o).length>0&&t("#"+o).remove()},t.fn.isNumeric=function(a){a=t.trim(a);var r,e="0123456789,.-",n=!0;if(0==a.length)return!1;for(i=0;i<a.length&&1==n;i++)r=a.charAt(i),-1==e.indexOf(r)&&(n=!1);return n},t.fn.isEmpty=function(){return t.isEmpty(t(this).val())},t.isEmpty=function(a){return""==t.trim(a)?!0:!1},t.fn.isEmail=function(){return t.isEmail(t(this).val())},t.isEmail=function(t){var a=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.match(a)},t.fn.replaceAll=function(t,a,r){for(;-1!=t.toString().indexOf(a);)t=t.toString().replace(a,r);return t},t.fn.validateIBAN=function(a){a=a.toUpperCase(),a=t.trim(a),a=a.replace(/\s/g,""),a=a.replace(/\-/g,"");if(a.length>34||a.length<5)return!1;var r=a.substring(0,2).toUpperCase(),e=a.substring(2,4),i=a.substring(4).toUpperCase(),n=i+r+"00",l=this.IBANCleaner(n);return 98-this.ModuloIBAN(l,97)!=parseInt(e)?!1:!0},t.fn.ModuloIBAN=function(t,a){var r,e,i,n,l,o="";for(r=0,e=0;e<=t.length-1;)l=parseInt(o+t.substring(r,e+1)),l>=a?(i=Math.floor(l/a),n=l-i*a,o=n,r=e+1,e=r):e+=1;return r<=t.length&&(o+=t.substring(r)),parseInt(o)},t.fn.IBANCleaner=function(t){ls_letras="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var a=0;a<ls_letras.length;a++){var r=ls_letras.search(ls_letras[a])+10,e=ls_letras[a].toString();t=this.replaceAll(t,e,r.toString())}return t},t.fn.checkDateDMY=function(t){try{var a=/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/;if(!t.match(a))return!1;var r=t.split("/"),e=parseInt(r[0],10),i=parseInt(r[1],10),n=parseInt(r[2],10);return 0>=e||e>31?!1:0>=i||i>12?!1:0>=n||n>9999?!1:!0}catch(l){return!1}},t.fn.parseDate=function(t,a,r){var e,i,n,l=a.split(r),o=t.split(r);return l[0].indexOf("d")>-1&&(e=o[0]),l[1].indexOf("d")>-1&&(e=o[1]),l[2].indexOf("d")>-1&&(e=o[2]),l[0].indexOf("M")>-1&&(i=o[0]),l[1].indexOf("M")>-1&&(i=o[1]),l[2].indexOf("M")>-1&&(i=o[2]),i--,l[0].indexOf("y")>-1&&(n=o[0]),l[1].indexOf("y")>-1&&(n=o[1]),l[2].indexOf("y")>-1&&(n=o[2]),new Date(n,i,e)}}(jQuery);